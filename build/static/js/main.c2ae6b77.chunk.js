(this.webpackJsonpquiz_engine=this.webpackJsonpquiz_engine||[]).push([[0],{111:function(e,t,s){},172:function(e,t,s){},237:function(e,t){},257:function(e,t,s){},258:function(e,t,s){"use strict";s.r(t);s(106);var n=s(1),c=s.n(n),i=s(20),a=s.n(i),r=s(44),l=s(5),o=s(10),d=(s(111),s(30)),j=s(22),b=(s(59),s(262)),u=s(263),h=s(265),m=s(259),x=s(260),O=s(0),p=function(e){var t=e.isOpen,s=e.toggle,n=e.onClick;return Object(O.jsxs)(h.a,{isOpen:t,size:"lg",toggle:s,className:"modal-dialog-centered ",children:[Object(O.jsxs)(m.a,{children:[Object(O.jsx)("h4",{className:"text-primary",children:Object(O.jsx)("strong",{children:"Are you sure!"})}),Object(O.jsx)("p",{children:"After submitting your work, you cannot making any changes."})]}),Object(O.jsx)(x.a,{style:{border:0},children:Object(O.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:n,children:"Submit"})})]})};p.defaultProps={isOpen:!1};var f=p,g=s(29),v=s.n(g),w=s(56),_=s.n(w),y=_()(window.location.hostname,"localhost"),k=_()(window.location.hostname,"gradingly.netlify.app"),N=y?"http://localhost:8000":k?"https://staging.gradingly.com":"https://app.gradingly.com",q="".concat(N,"/api"),S=s(6);function C(e){var t=Object.assign({},e);return Object(O.jsx)("a",Object(S.a)(Object(S.a)({},t),{},{class:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white",width:"150px"},children:"Exit"}))}function I(e){return Object(O.jsxs)("span",{className:"badge d-flex customized-badge rounded-border even-larger-badge ",children:[" Level:\xa0 ",e.level," "]})}function B(e){return Object(O.jsxs)("span",{className:"badge customized-badge rounded-border even-larger-badge ",children:["Suggested time: ",e.time," minutes"]})}var E=s(15),z=s(261),L=(s(172),s(99)),T=s.n(L),R=["label"],A=function(e){var t=e.label,s=Object(E.a)(e,R);return Object(O.jsx)(z.a,Object(S.a)(Object(S.a)({className:T()("simple-button w-20")},s),{},{children:t}))},H=function(e){var t=Object.assign({},e);return Object(O.jsx)(A,Object(S.a)({outline:!0,color:"",label:Object(O.jsx)("strong",{children:"Open"})},t))};function M(e){return Object(O.jsx)("button",{type:"button",class:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white",width:"150px"},onClick:e.click,children:"Save"})}var P=function(e){var t=Object.assign({},e);return Object(O.jsx)("input",Object(S.a)({type:"submit",class:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white",width:"150px"}},t))};function F(){return Object(O.jsx)("img",{src:"".concat("".concat(window.location.origin),"/logo1.png"),style:{width:"300px",marginLeft:"30px"},alt:""})}function K(e){return Object(O.jsx)("h4",{className:"heading-color margin-0",children:Object(O.jsx)("b",{children:e.title})})}var D=function(e){var t=e.isOpen,s=e.size,n=e.toggle,c=e.bodyContent,i=e.footerContent;return Object(O.jsxs)(h.a,{size:s,isOpen:t,toggle:n,className:"modal-dialog-centered ",children:[Object(O.jsx)(m.a,{children:c}),Object(O.jsx)(x.a,{style:{border:0},children:i})]})};D.defaultProps={isOpen:!1,size:"lg"};var W=D,J=s(100),Q=s.n(J),V=function(){return"".concat(window.location.origin)},G=function(e){var t=e.description,s=e.showBtn,c=Object(n.useRef)(),i=Object(n.useState)(!1),a=Object(l.a)(i,2),r=a[0],o=a[1],d=Object(n.useState)({actualHeight:0}),j=Object(l.a)(d,2),b=j[0],u=j[1];Object(n.useLayoutEffect)((function(){setInterval((function(){c.current&&u({width:c.current.offsetWidth,height:c.current.offsetHeight,actualHeight:c.current.getClientRects()[0].height})}),500)}),[]);var h=function(e){o(!r)};return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(Q.a,{isOpen:!r,collapseHeight:"70px",className:"mb-3 app__collapse",render:function(e){return Object(O.jsx)("div",{ref:c,className:r?"app__content":"",onClick:function(){return r?h():null},children:t})}}),Object(O.jsx)("div",{className:"text-end",children:s&&b.actualHeight>70?Object(O.jsx)(z.a,{size:"sm",onClick:function(){return h()},style:{backgroundColor:"#2f56a1",color:"white",marginBottom:"3px"},children:r?Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:"".concat(V(),"/arrowdown.png"),alt:""}),"Expand"]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:"".concat(V(),"/arrowup.png"),alt:""}),"Collapse"]})}):""})]})};function U(e){return Object(O.jsxs)("p",{class:"font-size-18 mb-3",children:[Object(O.jsx)("span",{className:"fw-bold me-1 mb-2",children:"Question:"})," ",e.question," "]})}var Y=s(101),X=s(7);function Z(e){var t=e.totalTimeInSeconds,s=e.onStop,c=e.localSpentTime,i=e.isStopTimer,a={autoStart:!0},r=new Date;r.setSeconds(r.getSeconds()+parseInt(c)),r&&(a=Object(S.a)(Object(S.a)({},a),{},{offsetTimestamp:r}));var l=Object(Y.useStopwatch)(a),o=l.seconds,d=l.minutes,j=l.pause,b=l.hours,u=Object(X.padStart)(["".concat(d)],[2],["0"]),h=Object(X.padStart)(["".concat(o)],[2],["0"]),m=Object(n.useCallback)((function(){var e=o+60*d+60*b*60;e>=parseInt(60*t)&&s(e),window.sessionStorage.setItem("timer",e)}),[d,o,b,s,t]);return Object(n.useEffect)((function(){m()}),[m]),Object(n.useEffect)((function(){i&&j()}),[i,j]),Object(O.jsxs)("div",{className:"inline",children:["Time: ",Object(O.jsx)("span",{children:u}),":",Object(O.jsx)("span",{children:h}),t?"/".concat(parseInt(t)," min"):null]})}function $(e){var t=e.words;return Object(O.jsxs)("span",{className:"badge customized-badge rounded-border even-larger-badge ",children:["Suggested Words: ",t," "]})}var ee,te=["value","onchange"];function se(e){var t=e.value,s=e.onchange,n=Object(E.a)(e,te);return Object(O.jsx)("textarea",Object(S.a)({class:"answer-area",name:"answer-submission",id:"submission-text",type:"text",value:t,spellcheck:"false","data-gramm":"false",placeholder:"Start writing here...",onChange:s},n))}var ne=function(e){var t=e.isLoaded,s=e.data,c=e.onSubmit,i=e.isReview,a=Object(n.useState)(!1),r=Object(l.a)(a,2),o=r[0],h=r[1],m=function(){return h(!o)},x=Object(n.useState)(!1),p=Object(l.a)(x,2),g=p[0],w=p[1],_=function(){return w(!g)},y=Object(n.useState)(),k=Object(l.a)(y,2),q=k[0],S=k[1],E=Object(n.useState)(s.answers?s.answers.split(" ").length:0),z=Object(l.a)(E,2),L=z[0],T=z[1];s.completed_at&&(i=!0),s.answers&&null===s.completed_at&&(ee=s.answers);var R=Object(n.useState)(!1),A=Object(l.a)(R,2),D=A[0],J=A[1];Object(n.useEffect)((function(){S("New"===s.status||null===s.time_spent?"00":v()(s,"time_spent"))}),[s]),Object(n.useEffect)((function(){if(void 0!==i||null!==s.status)return window.addEventListener("beforeunload",Y),function(){window.removeEventListener("beforeunload",Y)}}));var Q,V,Y=function(e){void 0===i&&(te(),e.preventDefault(),e.returnValue="")},te=function(){if(!i){var e=window.sessionStorage.getItem("timer"),t={is_submit:!1,time_spent:parseInt(e),answers:ee};J(!0),c(t),J(!1),j.b.success("Successfully Saved!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastId:1})}},ne=Object(d.a)().handleSubmit;return t?Object(O.jsxs)("div",{className:"dashboard-wrapper bg-white m-27",children:[Object(O.jsx)("div",{class:"container quiz-background",children:Object(O.jsx)("form",{onSubmit:ne((function(){L<100||L>1e3?j.b.error("Answer length must be between 100 and 1000 words, current words are:"+L,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastId:1}):h(!o)})),children:Object(O.jsxs)("div",{className:"p-md-5",children:[Object(O.jsxs)(b.a,{children:[Object(O.jsx)(u.a,{sm:!0,children:Object(O.jsx)(F,{})}),Object(O.jsx)(u.a,{md:!0,className:"mt-3 text-end",children:Object(O.jsx)("span",{className:"p-1 timer-content",children:Object(O.jsx)("b",{children:s&&q&&Object(O.jsx)(Z,{isStopTimer:!(null!==s.status&&!i)||D,totalTimeInSeconds:s.recom_time,localSpentTime:q,onStop:function(e){J(!1)}})})})})]}),Object(O.jsx)("div",{className:"p-md-5",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"border border-light p-3 row",xs:"1",sm:"1",md:"4",children:[Object(O.jsx)(u.a,{md:!0,children:Object(O.jsx)("div",{class:"content-align-center",children:Object(O.jsx)(K,{title:s.task_type})})}),Object(O.jsx)(u.a,{md:!0,className:"center",children:Object(O.jsx)(B,{time:s.recom_time})}),Object(O.jsx)(u.a,{md:!0,className:"center",children:Object(O.jsx)($,{words:"350"})}),Object(O.jsx)(u.a,{md:!0,className:"center",children:Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsx)(I,{level:Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:s.task_levels}})})})})]}),Object(O.jsx)(b.a,{className:"border border-light p-3",children:Object(O.jsx)(u.a,{children:Object(O.jsxs)("div",{class:"d-flex flex-column",children:[Object(O.jsx)(U,{question:s.prompt_content}),Object(O.jsx)(G,{description:Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:s.html_content}}),showbtn:!0})]})})}),Object(O.jsxs)(b.a,{className:Object(X.size)(s.additional_resource)<=0?"":"p-3 border border-light",children:[Object(X.size)(s.additional_resource)<=0?"":Object(O.jsx)("div",{children:Object(O.jsxs)("span",{class:"font-size-18 mt-3 mb-3",children:[Object(O.jsx)("strong",{children:" Additional question resource "}),Object(O.jsx)(H,{onClick:function(){return w(!g)}})]})}),Object(O.jsx)(W,{isOpen:g,toggle:_,bodyContent:Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:s.additional_resource}}),footerContent:Object(O.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:_,children:"Close"})})]}),Object(O.jsx)(b.a,{className:"border border-light p-3",children:Object(O.jsx)(se,{defaultValue:null===s.completed_at?s.answers:null,value:i?s.answers:null,onchange:function(e){V=e.target.value,Q=V.split(" ").length,V||(Q=0),T(Q)},onBlur:function(e){ee=e.target.value}})}),Object(O.jsx)(b.a,{className:"border border-light px-3 py-2",children:Object(O.jsxs)("span",{className:"text-muted",children:[" ","Words: ",L," words"," "]})}),Object(O.jsx)(b.a,{children:Object(O.jsxs)("div",{class:"mb-3 mt-3 p-0 m-0",children:[i||null===s.status?null:Object(O.jsxs)("div",{class:"inline float-start",children:[Object(O.jsx)(M,{click:te}),Object(O.jsx)(j.a,{})]}),i||null===s.status?Object(O.jsx)("div",{class:"inline float-end",children:Object(O.jsx)(C,{href:N})}):Object(O.jsx)("div",{class:"inline float-end",children:Object(O.jsx)(P,{})})]})})]})})]})})}),Object(O.jsx)(f,{isOpen:o,toggle:m,onClick:function(){var e=window.sessionStorage.getItem("timer"),t={is_submit:!0,time_spent:parseInt(e),answers:ee};J(!0),c(t),J(!1),m()}})]}):Object(O.jsx)("h1",{className:"text-primary text-center",children:"Loading..."})},ce=s(264);function ie(e){return Object(O.jsxs)("span",{className:"badge customized-badge rounded-border even-larger-badge ",children:["Number of questions: ",e.questions," "]})}var ae=["fieldLength","value","name","onblur"];function re(e){var t=e.fieldLength,s=e.value,n=e.name,c=e.onblur,i=Object(E.a)(e,ae);return Object(O.jsx)("div",{class:"inline-grid mx-1 mb-1",children:Object(O.jsx)("input",Object(S.a)({type:"text",name:n,value:s,size:t,maxLength:t,onBlur:c,autoComplete:"off",class:"form-control-sm form-control-custom-sm",style:{borderColor:"#2f56a1"}},i))})}var le=function(e){var t=e.counter,s=e.title,n=e.counterClass,c=e.showNumbers;return Object(O.jsxs)("div",{className:"d-flex align-items-start",children:[c&&Object(O.jsxs)("strong",{className:n,children:[t," "]}),Object(O.jsx)("span",{children:s})]})};function oe(){var e=Object(d.a)(),t=e.register,s=e.handleSubmit,n=e.formState.errors;return Object(O.jsx)(ce.a,{className:"dashboard-wrapper container-fluid pg-content bg-white  p-md-5 p-3",children:Object(O.jsxs)("form",{onSubmit:s((function(e){return console.log(e)})),children:[Object(O.jsx)(b.a,{children:Object(O.jsx)(F,{})}),Object(O.jsxs)(b.a,{className:"border border-light mt-3 mb-3",xs:"1",sm:"2",md:"4",children:[Object(O.jsx)(u.a,{children:Object(O.jsx)("div",{class:"content-align-center",children:Object(O.jsx)(K,{title:"Grammar exercise"})})}),Object(O.jsx)(u.a,{children:Object(O.jsx)(B,{time:"10"})}),Object(O.jsx)(u.a,{children:Object(O.jsx)(ie,{questions:"2"})}),Object(O.jsx)(u.a,{children:Object(O.jsx)(I,{level:"B2 (CERF)"})})]}),Object(O.jsx)(b.a,{children:Object(O.jsx)(u.a,{children:Object(O.jsx)(U,{question:"Read the dialouges. Complete them with i'm, i'm not, are, aren't, is or isn't"})})}),Object(O.jsxs)(b.a,{className:"border border-light font-size-18",children:[Object(O.jsx)("div",{class:"row mb-3  ",children:Object(O.jsx)(le,{question_counter:"A.",question_title:"Are you mexican?"})}),Object(O.jsxs)("div",{class:"d-flex flex-row bd-highlight mb-3",children:[Object(O.jsx)("div",{class:"bd-highlight",children:Object(O.jsx)(le,{question_counter:"B.",question_title:"No, "})}),Object(O.jsx)("div",{class:"mx-3 bd-highlight",children:Object(O.jsxs)("div",{class:"icon-wrapper",children:[Object(O.jsx)(re,{register:t("fillinblank1",{required:!0,maxLength:20}),class:"form-control form-control-sm"}),n.fillinblank1&&Object(O.jsx)("span",{className:"text-danger",children:"This feld is requred"})]})}),Object(O.jsx)("div",{class:"bd-highlight",children:Object(O.jsx)(le,{question_title:"Mexican. "})}),Object(O.jsx)("div",{class:"mx-3 bd-highlight text-center",children:Object(O.jsxs)("div",{class:"icon-wrapper",children:[Object(O.jsx)(re,{register:t("fillinblank",{required:!0,maxLength:20}),class:"form-control form-control-sm"}),n.fillinblank&&Object(O.jsx)("span",{className:"text-danger",children:"This feld is requred"})]})}),Object(O.jsx)("div",{class:"bd-highlight",children:Object(O.jsx)(le,{question_title:"Argentinian. "})})]}),Object(O.jsx)("div",{class:"row mb-3  ",children:Object(O.jsx)(le,{question_counter:"A.",question_title:"Are you mexican?"})}),Object(O.jsxs)("div",{class:"d-flex flex-row bd-highlight mb-3",children:[Object(O.jsx)("div",{class:"bd-highlight",children:Object(O.jsx)(le,{question_counter:"B.",question_title:"No, "})}),Object(O.jsx)("div",{class:"mx-3 bd-highlight",children:Object(O.jsxs)("div",{class:"icon-wrapper",children:[Object(O.jsx)(re,{register:t("fillinblank2",{required:!0,maxLength:20}),class:"form-control form-control-sm"}),n.fillinblank2&&Object(O.jsx)("span",{className:"text-danger",children:"This feld is requred"})]})}),Object(O.jsx)("div",{class:"bd-highlight",children:Object(O.jsx)(le,{question_title:"Mexican. "})}),Object(O.jsx)("div",{class:"mx-3 bd-highlight text-center",children:Object(O.jsxs)("div",{class:"icon-wrapper",children:[Object(O.jsx)(re,{register:t("fillinblank3",{required:!0,maxLength:20}),class:"form-control form-control-sm"}),n.fillinblank3&&Object(O.jsx)("span",{className:"text-danger",children:"This feld is requred"})]})}),Object(O.jsx)("div",{class:"bd-highlight",children:Object(O.jsx)(le,{question_title:"Argentinian. "})})]})]}),Object(O.jsx)(b.a,{className:"border border-light mb-12 ",children:Object(O.jsx)("div",{class:"row mb-3",children:Object(O.jsxs)("div",{class:"col-12 text-end",children:[" ",Object(O.jsx)(Z,{})," "]})})}),Object(O.jsx)(b.a,{children:Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("div",{class:"inline float-start",children:Object(O.jsx)(M,{})}),Object(O.jsx)("div",{class:"inline float-end",children:Object(O.jsx)(P,{})})]})})]})})}function de(){return Object(O.jsx)("button",{type:"button",class:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white",width:"150px"},children:"Review"})}function je(e){var t=e.isLoaded,s=e.data;return console.log(s),t?Object(O.jsxs)(ce.a,{className:"dashboard-wrapper mb-3 mt-3 container-fluid pg-content bg-white  p-md-5 p-3",children:[Object(O.jsx)(b.a,{className:"mb-3",children:Object(O.jsx)(F,{})}),Object(O.jsx)(b.a,{className:"text-center",children:Object(O.jsx)("p",{className:"text-primary",children:Object(O.jsx)("h4",{children:"Your Quiz is submitted successfully!"})})}),Object(O.jsx)(b.a,{children:Object(O.jsxs)("div",{class:"mb-3 mt-3 p-0 m-0",children:[Object(O.jsx)("div",{class:"inline float-start",children:Object(O.jsx)(C,{})}),Object(O.jsx)("div",{class:"inline float-end",children:Object(O.jsx)(de,{})})]})})]}):Object(O.jsx)("h1",{className:"text-center",children:"Loading..."})}var be=s(31),ue=s.n(be),he=function(e){var t=Object.assign({},e);return Object(O.jsx)(A,Object(S.a)({outline:!0,type:"button",className:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white"},label:"Back"},t))},me=function(e){var t=Object.assign({},e);return Object(O.jsx)(A,Object(S.a)({outline:!0,type:"button",className:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white"},label:"Next"},t))};function xe(e){return Object(O.jsx)("audio",{controls:!0,controlsList:"nodownload",children:Object(O.jsx)("source",{src:e.src,type:e.type})})}var Oe=["onBlur","name","checked","id","value","index"];function pe(e){var t=e.onBlur,s=e.name,n=e.checked,c=e.id,i=e.value,a=(e.index,Object(E.a)(e,Oe));return Object(O.jsx)("span",{children:Object(O.jsx)("input",Object(S.a)({name:s,onBlur:t,class:"form-check-input",type:"checkbox",id:c,checked:n,value:i},a))})}function fe(e){return Object(O.jsx)("label",{class:"d-flex inline",for:e.for,children:e.label})}var ge=["name","onBlur","id","checked","value","index"];function ve(e){var t=e.name,s=e.onBlur,n=e.id,c=e.checked,i=e.value,a=(e.index,Object(E.a)(e,ge));return Object(O.jsx)("span",{children:Object(O.jsx)("input",Object(S.a)({onBlur:s,name:t,class:"form-check-input",id:n,type:"radio",checked:c,value:i},a))})}var we=function(e){var t=e.show_abc_sequence,s=e.index;return t?["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"][s]:s+1},_e=function(e,t){var s=[];return e.user_selected&&e.user_selected.forEach((function(e){s.push(e.id)})),e&&s&&s.includes(t)};function ye(e){return Object(O.jsx)("span",{class:e.class,children:Object(O.jsx)("img",{src:"/correct.png",width:"17px",alt:""})})}function ke(e){return Object(O.jsx)("span",{class:e.class,children:Object(O.jsx)("img",{src:"/wrong.png",width:"17px",alt:""})})}var Ne=s(102),qe=s.n(Ne);function Se(e){return Object(O.jsx)("span",{class:e.class,children:e.value})}var Ce=["choices","onblur","isReview","id"];function Ie(e){var t=e.choices,s=void 0===t?[]:t,n=e.onblur,c=e.isReview,i=e.id,a=Object(E.a)(e,Ce);return Object(O.jsx)("div",{className:"d-inline-flex mx-1 mb-1",children:Object(O.jsxs)("select",Object(S.a)(Object(S.a)({className:"form-select",style:{borderColor:"#2f56a1",backgroundImage:"url('/arrow-down.png')"},onBlur:n},a),{},{children:[c?null:Object(O.jsx)("option",{selected:!0,children:"select answer"}),s&&s.map((function(e,t){return Object(O.jsx)("option",{"data-possible-question-id":e.id,selected:i===e.id,children:e.prompt_content.replaceAll(/(<([^>]+)>)/gi,"")},e.number)})),";"]}))})}function Be(e){var t=e.questions,s=e.onAnswer,c=e.currentPage,i=e.isReview,a=e.answer,r=e.status,o=[],d=!1,j=Object(n.useState)(c),b=Object(l.a)(j,2),u=b[0],h=b[1];Object(n.useEffect)((function(){h(c)}),[c]);var m,x=Object(X.size)(t)>1,p=0;return Object(O.jsx)("div",{children:t&&t.map((function(e,t){if(i||null===r||parseInt(u)===parseInt(e.page)){e.prompt_content.replace(/\[\[[^\]]*\]\]\*([\d]+)/g,(function(t){t.replace(/\[\[[^\]]*\]\]/g,(function(e){m=e.match(/\d+/)})),t.replace(/\*([\d]+)/g,(function(e){p=e.match(/\d+/)})),o.push({questionNumber:e.id,fieldNumber:m[0],fieldlenght:p[0]})}));var n=e.prompt_content.replace(/(<|&lt;)br\s*\/*(>|&gt;)/g," ").replace(/\[\[[^\]]*\]\]/g,(function(t){return"FillInBlank"===e.type?'<input type="text" className="form-control-sm" data-id ="'.concat(t.match(/\d+/),'"  class="inline"/>'):'<select data-id ="'.concat(t.match(/\d+/),'"  class="inline"></select>')}));return Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsxs)("div",{className:"icon-wrapper",children:[Object(O.jsx)(le,{showNumbers:x,counterClass:"me-2",counter:t+1+".",title:qe()(n.replace(/\*([\d]+)/g,""),{transform:function(t){if("input"===t.name){var n,c,r="";a.forEach((function(s){s.question_id===e.id&&s.selected_answers.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&(r=e.answer)}))})),i&&(e.user_selected&&e.user_selected.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&(n=e.answer)})),e.possible_answers.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&(c=e.prompt_content)})));var l=0;return o.forEach((function(s){t.attribs["data-id"]===s.fieldNumber&&s.questionNumber===e.id&&(l=s.fieldlenght)})),Object(O.jsxs)("div",{class:"inline-grid icon-wrapper",children:[Object(O.jsx)(re,{fieldLength:0===l?e.input_field_length:l,disabled:i,"data-question-type":e.type,"data-value":t.attribs["data-id"],"data-question-id":e.id,value:i?n:null,defaultValue:r||null,onblur:s,className:c===n?"form-control-sm form-control-custom-sm":"txt-danger-line-through form-control-sm form-control-custom-sm"}),i?c===n?Object(O.jsx)(ye,{class:"answer-badge bg-success"}):Object(O.jsx)(ke,{class:"answer-badge bg-danger"}):null,i?c===n?null:Object(O.jsx)(Se,{class:"badge bg-success mb-1",value:c}):null]})}if("select"===t.name){var d;a.forEach((function(s){s.question_id===e.id&&s.selected_answers.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&(d=e.id)}))}));var j,b,u=[];return i&&e.possible_answers.forEach((function(e){e.number===parseInt(t.attribs["data-id"])&&e.is_correct&&(j=e.prompt_content.replaceAll(/(<([^>]+)>)/gi,""))})),i&&e.user_selected?e.user_selected.forEach((function(s){parseInt(t.attribs["data-id"])===s.number&&e.possible_answers.forEach((function(e){e.number===s.number&&e.id===s.id&&(u.push(e),b=e.is_correct)}))})):!1===i&&e.possible_answers.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&u.push(e)})),Object(O.jsxs)("div",{class:"inline-grid icon-wrapper",children:[Object(O.jsx)(Ie,{id:d,disabled:i,"data-question-type":e.type,"data-value":t.attribs["data-id"],"data-question-id":e.id,placeholder_id:t.attribs["data-id"],choices:u,onblur:s,isReview:i,className:!1===b?"txt-danger-line-through form-select form-select-custom-sm":"form-select form-select-custom-sm"}),i?!0===b?Object(O.jsx)(ye,{class:"answer-badge bg-success"}):Object(O.jsx)(ke,{class:"answer-badge bg-danger"}):null,i?!0===b?null:Object(O.jsx)(Se,{class:"badge bg-success mb-1",value:j}):null]})}}})}),"RadioBox"===e.type||"CheckBox"===e.type?Object(O.jsx)("div",{className:e.question_horizontal_display?"row d-inline-flex  align-items-end ":null,children:e.possible_answers.map((function(n,c){return Object(O.jsxs)("div",{className:"RadioBox"===e.type||"CheckBox"===e.type?e.question_horizontal_display?"d-flex mt-2 ms-3 inline-grid col":"d-flex mt-2 ms-3":null,children:[Object(O.jsx)("label",{for:n.id,children:n.image&&e.question_horizontal_display?Object(O.jsx)("img",{src:n.image,height:n.image_height,px:!0,alt:"img"}):""}),Object(O.jsxs)("div",{className:"RadioBox"===e.type||"CheckBox"===e.type?"form-check d-flex align-items-center form-check-inline custom-form-check":null,children:[a.forEach((function(t){t.question_id===e.id&&t.selected_answers.forEach((function(e){n.id===e.id&&(d=!0)}))})),Object(O.jsx)("span",{children:we({index:c,show_abc_sequence:e.show_abc_sequence})+"."}),"CheckBox"===e.type?Object(O.jsx)(pe,{defaultChecked:!0===d?d:null,index:we({index:c,show_abc_sequence:e.show_abc_sequence})+".","data-question-id":e.id,"data-question-type":e.type,onClick:s,value:n.id,id:n.id,name:"answers[".concat(t,"].selected_answers[").concat(c,"]"),checked:i?_e(e,n.id):null,className:i&&!_e(e,n.id)&&n.is_correct?"form-check-input correct_answers ms-2":"form-check-input ms-2"}):"RadioBox"===e.type?Object(O.jsx)(ve,{defaultChecked:!0===d?d:null,index:we({index:c,show_abc_sequence:e.show_abc_sequence})+".","data-question-id":e.id,"data-question-type":e.type,onClick:s,value:n.id,id:n.id,name:"answers[".concat(t,"].selected_answers"),checked:i?_e(e,n.id):null,className:i&&!_e(e,n.id)&&n.is_correct?"form-check-input correct_answers ms-2":"form-check-input ms-2"}):null,d=!1,Object(O.jsxs)("div",{class:"RadioBox"===e.type||"CheckBox"===e.type?"icon-wrapper":null,children:["RadioBox"===e.type||"CheckBox"===e.type?Object(O.jsx)(fe,{for:n.id,label:Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(n.prompt_content?n.prompt_content:""," ").concat(n.image&&!e.question_horizontal_display?"<img src=".concat(n.image," height=").concat(n.image_height,"px/>"):"")}})}):null,!0===n.is_correct&&!0===i&&("CheckBox"===e.type||"RadioBox"===e.type)&&_e(e,n.id)&&Object(O.jsx)(ye,{class:"answer-badge bg-success"}),!1===n.is_correct&&!0===i&&("CheckBox"===e.type||"RadioBox"===e.type)&&_e(e,n.id)&&Object(O.jsx)(ke,{class:"answer-badge bg-danger"}),("CheckBox"===e.type||"RadioBox"===e.type)&&i&&0===Object(X.size)(e.user_selected)&&n.is_correct?Object(O.jsx)(ke,{class:"answer-badge bg-danger"}):null]})]})]})}))}):null]})},t)}return null}))})}Be.defaultProps={questions:[],currentQuestion:1,isReview:!1};var Ee=Be,ze=[],Le=function(e){var t=e.isLoaded,s=e.data,c=e.onSubmit,i=e.isReview;null!=s.completed_at&&(i=!0);var a=Object(n.useState)(!1),r=Object(l.a)(a,2),o=r[0],p=r[1],g=Object(n.useState)(),w=Object(l.a)(g,2),_=w[0],y=w[1],k=Object(n.useState)(""),q=Object(l.a)(k,2),S=q[0],E=q[1],z=function(){return p(!o)},L=Object(n.useState)(!1),T=Object(l.a)(L,2),R=T[0],A=T[1],D=Object(n.useState)(!1),J=Object(l.a)(D,2),Q=J[0],V=J[1],Y=function(){return V(!Q)},$=function(){return A(!R)},ee=Object(n.useState)(!1),te=Object(l.a)(ee,2),se=te[0],ne=te[1],ce=Object(n.useState)(1),ae=Object(l.a)(ce,2),re=ae[0],le=ae[1],oe=Object(n.useState)([]),de=Object(l.a)(oe,2),je=de[0],be=de[1],Oe=Object(n.useState)(),pe=Object(l.a)(Oe,2),fe=pe[0],ge=pe[1];Object(n.useEffect)((function(){s&&s.time_spent&&0===Object(X.size)(ze)&&void 0===i&&s.questions.forEach((function(e){0!==Object(X.size)(e.user_selected)&&ze.push({question_id:e.id,selected_answers:e.user_selected})}))}),[s,i]),Object(n.useEffect)((function(){ge("New"===s.status||null===s.time_spent?"00":v()(s,"time_spent")),be(v()(s,"questions"))}),[s]);var ve=function(e){void 0===i&&!1!==_&&(_e(),e.preventDefault(),e.returnValue="")},we=function(){var e=window.sessionStorage.getItem("timer"),t={is_submit:!0,time_spent:parseInt(e),answers:ze};ne(!0),c(t),y(!1),!0===o?z():$()},_e=function(){if(null!==s.status){var e=window.sessionStorage.getItem("timer"),t={is_submit:!1,time_spent:parseInt(e),answers:ze};ne(!1),c(t),ne(!1),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;j.b.success(e,{position:"top-right",autoClose:t,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastId:1})}("Successfully Saved!")}};Object(n.useEffect)((function(){if(void 0!==i||null!==s.status)return window.addEventListener("beforeunload",ve),function(){window.removeEventListener("beforeunload",ve)}}));var ye=Object(d.a)().handleSubmit;return t?Object(O.jsx)("div",{className:"dashboard-wrapper bg-white m-27",children:Object(O.jsxs)("div",{class:"container quiz-background",children:[Object(O.jsx)("form",{onSubmit:ye((function(){var e,t=[],n=[],c=[];ze.forEach((function(e){var s=[];t.push(e.question_id),e.selected_answers.forEach((function(e){s.push(e.answer)})),c.push({question_id:e.question_id,selectdAnswers:s})})),s.questions.forEach((function(s,i){var a=[];!1===Object(X.includes)(t,s.id)?n.push(i+1):"FillInBlankChoices"!==s.type&&"FillInBlank"!==s.type||(s.prompt_content.replace(/\[\[[^\]]*\]\]/g,(function(e){var t="".concat(e.match(/\d+/));a.push(t)})),e=Object(X.size)(a),c.forEach((function(t){t.question_id===s.id&&parseInt(e)!==Object(X.size)(t.selectdAnswers)&&n.push(i+1)})))})),Object(X.size)(n)>0?(E(Object(X.join)(n,",")),p(!o)):A(!R)})),children:Object(O.jsxs)("div",{className:"p-md-5",children:[Object(O.jsxs)(b.a,{children:[Object(O.jsx)(u.a,{sm:!0,children:Object(O.jsx)(F,{})}),Object(O.jsx)(u.a,{md:!0,className:"mt-3 text-end",children:Object(O.jsx)("span",{className:"p-1 timer-content",children:Object(O.jsx)("b",{children:s&&fe&&Object(O.jsx)(Z,{isStopTimer:!(null!==s.status&&!i)||se,totalTimeInSeconds:s.recom_time,localSpentTime:fe,onStop:function(e){ne(!1)}})})})})]}),Object(O.jsx)("div",{className:"p-md-5",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"border border-light p-3 row",xs:"1",sm:"1",md:"4",children:[Object(O.jsx)(u.a,{md:!0,children:Object(O.jsx)("div",{class:"content-align-center",children:Object(O.jsx)(K,{title:s.task_type})})}),Object(O.jsx)(u.a,{md:!0,className:"center",children:Object(O.jsx)(B,{time:s.recom_time})}),Object(O.jsx)(u.a,{md:!0,className:"center",children:Object(O.jsx)(ie,{questions:Object(X.size)(s.questions)})}),Object(O.jsx)(u.a,{md:!0,className:"center",children:Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsx)(I,{level:Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:s.task_levels}})})})})]}),Object(O.jsx)(b.a,{className:"border border-light p-3",children:Object(O.jsx)(u.a,{children:Object(O.jsxs)("div",{class:"d-flex flex-column",children:[Object(O.jsx)(U,{question:s.prompt_content}),s.audio?Object(O.jsxs)("div",{className:"mb-3",children:[" ",Object(O.jsx)(xe,{src:s.audio})," "]}):null,s.html_content&&Object(O.jsx)(G,{description:Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:s.html_content}}),showBtn:!0})]})})}),Object(O.jsxs)(b.a,{className:Object(X.size)(s.additional_resource)<=0?"":"p-3 border border-light",children:[Object(X.size)(s.additional_resource)<=0?"":Object(O.jsx)("div",{children:Object(O.jsxs)("span",{class:"mt-3 mb-3",children:[Object(O.jsx)("strong",{children:" Additional question resource "}),Object(O.jsx)(H,{onClick:function(){return V(!Q)}})]})}),Object(O.jsx)(W,{isOpen:Q,toggle:Y,bodyContent:Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:s.additional_resource}}),footerContent:Object(O.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:Y,children:"Close"})})]}),Object(O.jsx)(b.a,{className:"border border-light p-3",children:Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsx)(Ee,{questions:je,currentPage:re,onAnswer:function(e){var t=parseInt(e.target.getAttribute("data-question-id")),s=e.target.getAttribute("data-question-type"),n="CheckBox"===s?e.target.checked:null,c="RadioBox"===s?e.target.checked:null,i=parseInt(e.target.value);if("CheckBox"===s||"RadioBox"===s)if(0===ze.length)ze.push({question_id:t,selected_answers:[{id:i}]});else{var a=ue()(ze,["question_id",t]);if(a){var r=Object(X.remove)(a.selected_answers,(function(e){return e.id===i&&!1===n}));if(0===a.selected_answers.length&&!1===n){var l=ze.indexOf(a);Object(X.remove)(ze,(function(e){return ze.indexOf(e)===l&&!1===n}))}0===r.length&&n&&a.selected_answers.push({id:i}),!0===c&&(a.selected_answers=[],a.selected_answers.push({id:i}))}else ze.push({question_id:t,selected_answers:[{id:i}]})}else if("FillInBlank"===s){if(e.target.value){var o=e.target.value,d=parseInt(e.target.getAttribute("data-value"));if(0===ze.length)ze.push({question_id:t,selected_answers:[{number:d,answer:o}]});else{var j=ue()(ze,["question_id",t]);if(j){var b=ue()(j.selected_answers,["number",d]);b?b.answer=o:j.selected_answers.push({number:d,answer:o})}else ze.push({question_id:t,selected_answers:[{number:d,answer:o}]})}}}else if("FillInBlankChoices"===s){var u=parseInt(e.target.selectedOptions[0].getAttribute("data-possible-question-id")),h=parseInt(e.target.getAttribute("data-value"));if(0===ze.length)ze.push({question_id:t,selected_answers:[{number:h,id:u}]});else{var m=ue()(ze,["question_id",t]);if(m){var x=ue()(m.selected_answers,["number",h]);x?x.id=u:m.selected_answers.push({number:h,id:u})}else ze.push({question_id:t,selected_answers:[{number:h,id:u}]})}}console.log("answers",ze)},isReview:i,answer:ze,status:s.status})})}),i||1===s.total_pages?null:"",Object(O.jsx)(b.a,{children:Object(O.jsxs)("div",{class:"mb-3 mt-3 p-0 m-0",children:[i||null===s.status?null:Object(O.jsxs)("div",{class:"inline float-start",children:[Object(O.jsx)(M,{click:_e}),Object(O.jsx)(j.a,{})]}),i||null===s.status?Object(O.jsxs)("div",{className:"row",children:[s&&i?Object(O.jsx)("div",{md:!0,className:"mt-3 text-end col-8",children:Object(O.jsx)("span",{className:"p-1 score-content",children:Object(O.jsx)("b",{children:Object(O.jsxs)("div",{className:"inline",children:["Score: ",Math.floor(s.user_score)," / 100 points (",Math.floor(s.user_score/100*100),"%)"]})})})}):null,Object(O.jsx)("div",{className:"text-end col-4",children:Object(O.jsx)(C,{href:N})})]}):Object(O.jsxs)("div",{class:"inline float-end",children:[Object(O.jsx)("span",{className:"mx-1",children:re>1&&Object(O.jsx)(he,{onClick:function(){le(re-1)}})}),Object(O.jsx)("span",{children:re===s.total_pages&&Object(O.jsx)(P,{})}),Object(O.jsx)("span",{children:re!==s.total_pages&&Object(O.jsx)(me,{onClick:function(){le(re+1)}})})]})]})})]})})]})}),Object(O.jsxs)(h.a,{isOpen:o,size:"lg",toggle:z,className:"modal-dialog-centered ",children:[Object(O.jsxs)(m.a,{children:[Object(O.jsx)("h4",{className:"text-primary",children:Object(O.jsx)("strong",{children:"Warning!"})}),Object(O.jsx)("p",{children:"Some answers are not completed, are you sure to continue?"}),Object(O.jsxs)("p",{className:"text-danger",children:["Question no: ",S," not completed."]})]}),Object(O.jsxs)(x.a,{style:{border:0},children:[Object(O.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:z,children:"Edit"}),Object(O.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:we,children:"Submit"})]})]}),Object(O.jsx)(f,{isOpen:R,toggle:$,onClick:we})]})}):Object(O.jsx)("h1",{className:"text-primary text-center",children:"Loading..."})},Te=s(21),Re=s(105),Ae=s(104),He=function e(t){var s=this;Object(Te.a)(this,e),this.makeHeader=function(){return new Headers({Authorization:"Token ".concat(window.location.pathname.split("/")[2]),Accept:"application/json","Content-Type":"application/json"})},this.fetchSecure=function(e){var t=e.url;return fetch(t,{method:"GET",headers:s.makeHeader()})},this.postSecure=function(e){var t=e.url,n=e.data;return fetch(t,{method:"POST",headers:s.makeHeader(),body:JSON.stringify(Object(S.a)({},n))})},this.props=t},Me=window.location.pathname.split("/")[3],Pe=function(e){return"".concat(q,"/quiz/").concat(e,"/?id=").concat(Me)},Fe=new(function(e){Object(Re.a)(s,e);var t=Object(Ae.a)(s);function s(e){var n;return Object(Te.a)(this,s),(n=t.call(this,e)).get=function(e){var t=e.id;return n.fetchSecure({url:Pe(t)})},n.post=function(e){var t=e.id,s=e.data;return n.postSecure({url:Pe(t),data:s})},n.props=e,n}return s}(He)),Ke=function(e){var t=e.isLoaded;e.data;return t?Object(O.jsx)("div",{className:"dashboard-wrapper bg-white m-27",children:Object(O.jsxs)("div",{class:"container quiz-background",children:[Object(O.jsx)(b.a,{children:Object(O.jsx)(u.a,{className:"text-center mt-5",children:Object(O.jsx)(F,{})})}),Object(O.jsx)(b.a,{children:Object(O.jsx)(u.a,{className:"text-center mt-5",children:Object(O.jsx)("h5",{children:"Please activate your account first before sending any exercises."})})}),Object(O.jsx)(b.a,{children:Object(O.jsx)(u.a,{className:"text-center my-5",children:Object(O.jsx)(C,{href:N})})})]})}):Object(O.jsx)("h1",{className:"text-center",children:"Loading..."})},De=function(e){var t="/:id/:token",s=Object(n.useState)({}),c=Object(l.a)(s,2),i=c[0],a=c[1],r=Object(n.useState)(!1),d=Object(l.a)(r,2),j=d[0],b=d[1],u=function(){return window.location.pathname.split("/")[1]},h=Object(o.f)();!1===y&&(window.addEventListener("keydown",(function(e){!e.ctrlKey||"S"!==e.key&&"s"!==e.key||e.preventDefault(),("F12"===e.key||e.ctrlKey&&"C"===e.key||e.ctrlKey&&("E"===e.key||"e"===e.key)||e.ctrlKey&&("J"===e.key||"j"===e.key)||e.ctrlKey&&("I"===e.key||"i"===e.key)||e.ctrlKey&&("K"===e.key||"k"===e.key)||e.ctrlKey&&("U"===e.key||"u"===e.key))&&e.preventDefault()})),document.addEventListener("contextmenu",(function(e){e.preventDefault()}))),Object(n.useEffect)((function(){Fe.get({id:u()}).then((function(e){return e.json()})).then((function(e){b(!0),a(e)})).catch((function(e){return console.log(e.message)}))}),[]);var m=Object(n.useCallback)((function(e){e.is_submit?Fe.post({id:u(),data:e}).then((function(e){return e.json()})).then((function(e){b(!0),a(e),!1===e.is_show_feedback&&h.push("/stagging")})):Fe.post({id:u(),data:e})}),[h]);return 4===window.location.pathname.split("/").length&&(t="/:id/:token/:id"),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:t,children:"Writing Task"===i.task_type?Object(O.jsx)(ne,{data:i,isLoaded:j,onSubmit:m}):i.detail?Object(O.jsx)(Ke,{data:i,isLoaded:j}):Object(O.jsx)(Le,{data:i,isLoaded:j,onSubmit:m})}),Object(O.jsx)(o.a,{exact:!0,path:"/quizsubmit",children:Object(O.jsx)(je,{data:i,isLoaded:j})}),Object(O.jsx)(o.a,{path:"/validations",children:Object(O.jsx)(oe,{})}),Object(O.jsx)(o.a,{path:"/quizreview",children:"Writing Task"===i.task_type?Object(O.jsx)(ne,{isReview:!0,data:i,isLoaded:j,onSubmit:m}):Object(O.jsx)(Le,{isReview:!0,data:i,isLoaded:j,onSubmit:m})}),Object(O.jsx)(o.a,{path:"/stagging",render:function(){return window.location=N}}),Object(O.jsx)(o.a,{exact:!0,path:"*",children:"404 - Not fount"})]})},We=(s(257),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,266)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;s(e),n(e),c(e),i(e),a(e)}))});a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(De,{})})}),document.getElementById("root")),We()}},[[258,1,2]]]);
//# sourceMappingURL=main.c2ae6b77.chunk.js.map
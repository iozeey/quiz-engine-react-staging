(this.webpackJsonpquiz_engine=this.webpackJsonpquiz_engine||[]).push([[0],{111:function(e,t,s){},163:function(e,t,s){},237:function(e,t){},257:function(e,t,s){},258:function(e,t,s){"use strict";s.r(t);s(106);var n=s(1),c=s.n(n),i=s(19),a=s.n(i),r=s(44),l=s(5),o=s(10),d=(s(111),s(30)),j=s(21),u=(s(59),s(262)),b=s(263),h=s(29),m=s.n(h),x=s(56),O=s.n(x),p=O()(window.location.hostname,"localhost"),f=O()(window.location.hostname,"gradingly.netlify.app"),g=p?"http://localhost:8000":f?"https://staging.gradingly.com":"http://18.133.72.95:8000",v="".concat(g,"/api"),w=s(6),_=s(0);function y(e){var t=Object.assign({},e);return Object(_.jsx)("a",Object(w.a)(Object(w.a)({},t),{},{class:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white",width:"150px"},children:"Exit"}))}function k(e){return Object(_.jsxs)("span",{className:"badge d-flex customized-badge rounded-border even-larger-badge ",children:[" Level:\xa0 ",e.level," "]})}function N(e){return Object(_.jsxs)("span",{className:"badge customized-badge rounded-border even-larger-badge ",children:["Suggested time: ",e.time," minutes"]})}var q=s(15),S=s(259),C=(s(163),s(99)),I=s.n(C),B=["label"],E=function(e){var t=e.label,s=Object(q.a)(e,B);return Object(_.jsx)(S.a,Object(w.a)(Object(w.a)({className:I()("simple-button w-20")},s),{},{children:t}))},z=function(e){var t=Object.assign({},e);return Object(_.jsx)(E,Object(w.a)({outline:!0,color:"",label:Object(_.jsx)("strong",{children:"Open"})},t))};function L(e){return Object(_.jsx)("button",{type:"button",class:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white",width:"150px"},onClick:e.click,children:"Save"})}var T=function(e){var t=Object.assign({},e);return Object(_.jsx)("input",Object(w.a)({type:"submit",class:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white",width:"150px"}},t))};function R(){return Object(_.jsx)("img",{src:"".concat("".concat(window.location.origin),"/logo1.png"),style:{width:"300px",marginLeft:"30px"},alt:""})}function A(e){return Object(_.jsx)("h4",{className:"heading-color margin-0",children:Object(_.jsx)("b",{children:e.title})})}var H=s(265),F=s(260),M=s(261),P=function(e){var t=e.isOpen,s=e.size,n=e.toggle,c=e.bodyContent,i=e.footerContent;return Object(_.jsxs)(H.a,{size:s,isOpen:t,toggle:n,className:"modal-dialog-centered ",children:[Object(_.jsx)(F.a,{children:c}),Object(_.jsx)(M.a,{style:{border:0},children:i})]})};P.defaultProps={isOpen:!1,size:"lg"};var K=P,D=s(100),W=s.n(D),J=function(){return"".concat(window.location.origin)},Q=function(e){var t=e.description,s=e.showBtn,c=Object(n.useRef)(),i=Object(n.useState)(!1),a=Object(l.a)(i,2),r=a[0],o=a[1],d=Object(n.useState)({actualHeight:0}),j=Object(l.a)(d,2),u=j[0],b=j[1];Object(n.useLayoutEffect)((function(){setInterval((function(){c.current&&b({width:c.current.offsetWidth,height:c.current.offsetHeight,actualHeight:c.current.getClientRects()[0].height})}),500)}),[]);var h=function(e){o(!r)};return Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)(W.a,{isOpen:!r,collapseHeight:"70px",className:"mb-3 app__collapse",render:function(e){return Object(_.jsx)("div",{ref:c,className:r?"app__content":"",onClick:function(){return r?h():null},children:t})}}),Object(_.jsx)("div",{className:"text-end",children:s&&u.actualHeight>70?Object(_.jsx)(S.a,{size:"sm",onClick:function(){return h()},style:{backgroundColor:"#2f56a1",color:"white",marginBottom:"3px"},children:r?Object(_.jsxs)("div",{children:[Object(_.jsx)("img",{src:"".concat(J(),"/arrowdown.png"),alt:""}),"Expand"]}):Object(_.jsxs)("div",{children:[Object(_.jsx)("img",{src:"".concat(J(),"/arrowup.png"),alt:""}),"Collapse"]})}):""})]})};function V(e){return Object(_.jsxs)("p",{class:"font-size-18 mb-3",children:[Object(_.jsx)("span",{className:"fw-bold me-1 mb-2",children:"Question:"})," ",e.question," "]})}var G=s(101),U=s(7);function Y(e){var t=e.totalTimeInSeconds,s=e.onStop,c=e.localSpentTime,i=e.isStopTimer,a={autoStart:!0},r=new Date;r.setSeconds(r.getSeconds()+parseInt(c)),r&&(a=Object(w.a)(Object(w.a)({},a),{},{offsetTimestamp:r}));var l=Object(G.useStopwatch)(a),o=l.seconds,d=l.minutes,j=l.pause,u=l.hours,b=Object(U.padStart)(["".concat(d)],[2],["0"]),h=Object(U.padStart)(["".concat(o)],[2],["0"]),m=Object(n.useCallback)((function(){var e=o+60*d+60*u*60;e>=parseInt(60*t)&&s(e),window.sessionStorage.setItem("timer",e)}),[d,o,u,s,t]);return Object(n.useEffect)((function(){m()}),[m]),Object(n.useEffect)((function(){i&&j()}),[i,j]),Object(_.jsxs)("div",{className:"inline",children:["Time: ",Object(_.jsx)("span",{children:b}),":",Object(_.jsx)("span",{children:h}),t?"/".concat(parseInt(t)," min"):null]})}function X(e){var t=e.words;return Object(_.jsxs)("span",{className:"badge customized-badge rounded-border even-larger-badge ",children:["Suggested Words: ",t," "]})}var Z,$=["value","onchange"];function ee(e){var t=e.value,s=e.onchange,n=Object(q.a)(e,$);return Object(_.jsx)("textarea",Object(w.a)({class:"answer-area",name:"answer-submission",id:"submission-text",type:"text",value:t,spellcheck:"false","data-gramm":"false",placeholder:"start writting Here....",onChange:s},n))}var te=function(e){var t=e.isLoaded,s=e.data,c=e.onSubmit,i=e.isReview,a=Object(n.useState)(!1),r=Object(l.a)(a,2),o=r[0],h=r[1],x=function(){return h(!o)},O=Object(n.useState)(),p=Object(l.a)(O,2),f=p[0],v=p[1],w=Object(n.useState)(s.answers?s.answers.split(" ").length:0),q=Object(l.a)(w,2),S=q[0],C=q[1];s.completed_at&&(i=!0),s.answers&&null===s.completed_at&&(Z=s.answers);var I=Object(n.useState)(!1),B=Object(l.a)(I,2),E=B[0],H=B[1];Object(n.useEffect)((function(){v("New"===s.status||null===s.time_spent?"00":m()(s,"time_spent"))}),[s]),Object(n.useEffect)((function(){if(void 0!==i||null!==s.status)return window.addEventListener("beforeunload",P),function(){window.removeEventListener("beforeunload",P)}}));var F,M,P=function(e){void 0===i&&(D(),e.preventDefault(),e.returnValue="")},D=function(){if(!i){var e=window.sessionStorage.getItem("timer"),t={is_submit:!1,time_spent:parseInt(e),answers:Z};H(!0),c(t),H(!1),j.b.success("Successfully Saved!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastId:1})}},W=Object(d.a)().handleSubmit;return t?Object(_.jsx)("div",{className:"dashboard-wrapper bg-white m-27",children:Object(_.jsx)("div",{class:"container quiz-background",children:Object(_.jsx)("form",{onSubmit:W((function(){S<100||S>1e3?j.b.error("Answer length must be between 100 and 1000 words, current words are:"+S,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastId:1}):function(){var e=window.sessionStorage.getItem("timer"),t={is_submit:!0,time_spent:parseInt(e),answers:Z};H(!0),c(t),H(!1)}()})),children:Object(_.jsxs)("div",{className:"p-md-5",children:[Object(_.jsxs)(u.a,{children:[Object(_.jsx)(b.a,{sm:!0,children:Object(_.jsx)(R,{})}),Object(_.jsx)(b.a,{md:!0,className:"mt-3 text-end",children:Object(_.jsx)("span",{className:"p-1 timer-content",children:Object(_.jsx)("b",{children:s&&f&&Object(_.jsx)(Y,{isStopTimer:!(null!==s.status&&!i)||E,totalTimeInSeconds:s.recom_time,localSpentTime:f,onStop:function(e){H(!1)}})})})})]}),Object(_.jsx)("div",{className:"p-md-5",children:Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"border border-light p-3 row",xs:"1",sm:"1",md:"4",children:[Object(_.jsx)(b.a,{md:!0,children:Object(_.jsx)("div",{class:"content-align-center",children:Object(_.jsx)(A,{title:s.task_type})})}),Object(_.jsx)(b.a,{md:!0,className:"center",children:Object(_.jsx)(N,{time:s.recom_time})}),Object(_.jsx)(b.a,{md:!0,className:"center",children:Object(_.jsx)(X,{words:"350"})}),Object(_.jsx)(b.a,{md:!0,className:"center",children:Object(_.jsx)("div",{className:"d-flex",children:Object(_.jsx)(k,{level:Object(_.jsx)("div",{dangerouslySetInnerHTML:{__html:s.task_levels}})})})})]}),Object(_.jsx)(u.a,{className:"border border-light p-3",children:Object(_.jsx)(b.a,{children:Object(_.jsxs)("div",{class:"d-flex flex-column",children:[Object(_.jsx)(V,{question:s.prompt_content}),Object(_.jsx)(Q,{description:Object(_.jsx)("div",{dangerouslySetInnerHTML:{__html:s.html_content}}),showbtn:!0})]})})}),Object(_.jsxs)(u.a,{className:Object(U.size)(s.additional_resource)<=0?"":"p-3 border border-light",children:[Object(U.size)(s.additional_resource)<=0?"":Object(_.jsx)("div",{children:Object(_.jsxs)("span",{class:"font-size-18 mt-3 mb-3",children:[Object(_.jsx)("strong",{children:" Additional question resource "}),Object(_.jsx)(z,{onClick:function(){return h(!o)}})]})}),Object(_.jsx)(K,{isOpen:o,toggle:x,bodyContent:Object(_.jsx)("div",{dangerouslySetInnerHTML:{__html:s.additional_resource}}),footerContent:Object(_.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:x,children:"Close"})})]}),Object(_.jsx)(u.a,{className:"border border-light p-3",children:Object(_.jsx)(ee,{defaultValue:null===s.completed_at?s.answers:null,value:i?s.answers:null,onchange:function(e){M=e.target.value,F=M.split(" ").length,M||(F=0),C(F)},onBlur:function(e){Z=e.target.value}})}),Object(_.jsx)(u.a,{className:"border border-light px-3 py-2",children:Object(_.jsxs)("span",{className:"text-muted",children:[" ","Words: ",S," words"," "]})}),Object(_.jsx)(u.a,{children:Object(_.jsxs)("div",{class:"mb-3 mt-3 p-0 m-0",children:[i||null===s.status?null:Object(_.jsxs)("div",{class:"inline float-start",children:[Object(_.jsx)(L,{click:D}),Object(_.jsx)(j.a,{})]}),i||null===s.status?Object(_.jsx)("div",{class:"inline float-end",children:Object(_.jsx)(y,{href:g})}):Object(_.jsx)("div",{class:"inline float-end",children:Object(_.jsx)(T,{})})]})})]})})]})})})}):Object(_.jsx)("h1",{className:"text-primary text-center",children:"Loading..."})},se=s(264);function ne(e){return Object(_.jsxs)("span",{className:"badge customized-badge rounded-border even-larger-badge ",children:["Number of questions: ",e.questions," "]})}var ce=["fieldLength","value","name","onblur"];function ie(e){var t=e.fieldLength,s=e.value,n=e.name,c=e.onblur,i=Object(q.a)(e,ce);return Object(_.jsx)("div",{class:"inline-grid mx-1 mb-1",children:Object(_.jsx)("input",Object(w.a)({type:"text",name:n,value:s,maxLength:t,onBlur:c,autoComplete:"off",class:"form-control-sm form-control-custom-sm",style:{borderColor:"#2f56a1"}},i))})}var ae=function(e){var t=e.counter,s=e.title,n=e.counterClass,c=e.showNumbers;return Object(_.jsxs)("div",{className:"d-flex align-items-start",children:[c&&Object(_.jsxs)("strong",{className:n,children:[t," "]}),Object(_.jsx)("span",{children:s})]})};function re(){var e=Object(d.a)(),t=e.register,s=e.handleSubmit,n=e.formState.errors;return Object(_.jsx)(se.a,{className:"dashboard-wrapper container-fluid pg-content bg-white  p-md-5 p-3",children:Object(_.jsxs)("form",{onSubmit:s((function(e){return console.log(e)})),children:[Object(_.jsx)(u.a,{children:Object(_.jsx)(R,{})}),Object(_.jsxs)(u.a,{className:"border border-light mt-3 mb-3",xs:"1",sm:"2",md:"4",children:[Object(_.jsx)(b.a,{children:Object(_.jsx)("div",{class:"content-align-center",children:Object(_.jsx)(A,{title:"Grammar exercise"})})}),Object(_.jsx)(b.a,{children:Object(_.jsx)(N,{time:"10"})}),Object(_.jsx)(b.a,{children:Object(_.jsx)(ne,{questions:"2"})}),Object(_.jsx)(b.a,{children:Object(_.jsx)(k,{level:"B2 (CERF)"})})]}),Object(_.jsx)(u.a,{children:Object(_.jsx)(b.a,{children:Object(_.jsx)(V,{question:"Read the dialouges. Complete them with i'm, i'm not, are, aren't, is or isn't"})})}),Object(_.jsxs)(u.a,{className:"border border-light font-size-18",children:[Object(_.jsx)("div",{class:"row mb-3  ",children:Object(_.jsx)(ae,{question_counter:"A.",question_title:"Are you mexican?"})}),Object(_.jsxs)("div",{class:"d-flex flex-row bd-highlight mb-3",children:[Object(_.jsx)("div",{class:"bd-highlight",children:Object(_.jsx)(ae,{question_counter:"B.",question_title:"No, "})}),Object(_.jsx)("div",{class:"mx-3 bd-highlight",children:Object(_.jsxs)("div",{class:"icon-wrapper",children:[Object(_.jsx)(ie,{register:t("fillinblank1",{required:!0,maxLength:20}),class:"form-control form-control-sm"}),n.fillinblank1&&Object(_.jsx)("span",{className:"text-danger",children:"This feld is requred"})]})}),Object(_.jsx)("div",{class:"bd-highlight",children:Object(_.jsx)(ae,{question_title:"Mexican. "})}),Object(_.jsx)("div",{class:"mx-3 bd-highlight text-center",children:Object(_.jsxs)("div",{class:"icon-wrapper",children:[Object(_.jsx)(ie,{register:t("fillinblank",{required:!0,maxLength:20}),class:"form-control form-control-sm"}),n.fillinblank&&Object(_.jsx)("span",{className:"text-danger",children:"This feld is requred"})]})}),Object(_.jsx)("div",{class:"bd-highlight",children:Object(_.jsx)(ae,{question_title:"Argentinian. "})})]}),Object(_.jsx)("div",{class:"row mb-3  ",children:Object(_.jsx)(ae,{question_counter:"A.",question_title:"Are you mexican?"})}),Object(_.jsxs)("div",{class:"d-flex flex-row bd-highlight mb-3",children:[Object(_.jsx)("div",{class:"bd-highlight",children:Object(_.jsx)(ae,{question_counter:"B.",question_title:"No, "})}),Object(_.jsx)("div",{class:"mx-3 bd-highlight",children:Object(_.jsxs)("div",{class:"icon-wrapper",children:[Object(_.jsx)(ie,{register:t("fillinblank2",{required:!0,maxLength:20}),class:"form-control form-control-sm"}),n.fillinblank2&&Object(_.jsx)("span",{className:"text-danger",children:"This feld is requred"})]})}),Object(_.jsx)("div",{class:"bd-highlight",children:Object(_.jsx)(ae,{question_title:"Mexican. "})}),Object(_.jsx)("div",{class:"mx-3 bd-highlight text-center",children:Object(_.jsxs)("div",{class:"icon-wrapper",children:[Object(_.jsx)(ie,{register:t("fillinblank3",{required:!0,maxLength:20}),class:"form-control form-control-sm"}),n.fillinblank3&&Object(_.jsx)("span",{className:"text-danger",children:"This feld is requred"})]})}),Object(_.jsx)("div",{class:"bd-highlight",children:Object(_.jsx)(ae,{question_title:"Argentinian. "})})]})]}),Object(_.jsx)(u.a,{className:"border border-light mb-12 ",children:Object(_.jsx)("div",{class:"row mb-3",children:Object(_.jsxs)("div",{class:"col-12 text-end",children:[" ",Object(_.jsx)(Y,{})," "]})})}),Object(_.jsx)(u.a,{children:Object(_.jsxs)("div",{class:"mb-3",children:[Object(_.jsx)("div",{class:"inline float-start",children:Object(_.jsx)(L,{})}),Object(_.jsx)("div",{class:"inline float-end",children:Object(_.jsx)(T,{})})]})})]})})}function le(){return Object(_.jsx)("button",{type:"button",class:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white",width:"150px"},children:"Review"})}function oe(e){var t=e.isLoaded,s=e.data;return console.log(s),t?Object(_.jsxs)(se.a,{className:"dashboard-wrapper mb-3 mt-3 container-fluid pg-content bg-white  p-md-5 p-3",children:[Object(_.jsx)(u.a,{className:"mb-3",children:Object(_.jsx)(R,{})}),Object(_.jsx)(u.a,{className:"text-center",children:Object(_.jsx)("p",{className:"text-primary",children:Object(_.jsx)("h4",{children:"Your Quiz is submitted successfully!"})})}),Object(_.jsx)(u.a,{children:Object(_.jsxs)("div",{class:"mb-3 mt-3 p-0 m-0",children:[Object(_.jsx)("div",{class:"inline float-start",children:Object(_.jsx)(y,{})}),Object(_.jsx)("div",{class:"inline float-end",children:Object(_.jsx)(le,{})})]})})]}):Object(_.jsx)("h1",{className:"text-center",children:"Loading..."})}var de=s(31),je=s.n(de),ue=function(e){var t=Object.assign({},e);return Object(_.jsx)(E,Object(w.a)({outline:!0,type:"button",className:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white"},label:"Back"},t))},be=function(e){var t=Object.assign({},e);return Object(_.jsx)(E,Object(w.a)({outline:!0,type:"button",className:"btn btn-lg",style:{backgroundColor:"#2f56a1",color:"white"},label:"Next"},t))};function he(e){return Object(_.jsx)("audio",{controls:!0,controlsList:"nodownload",children:Object(_.jsx)("source",{src:e.src,type:e.type})})}var me=["onBlur","name","checked","id","value","index"];function xe(e){var t=e.onBlur,s=e.name,n=e.checked,c=e.id,i=e.value,a=(e.index,Object(q.a)(e,me));return Object(_.jsx)("span",{children:Object(_.jsx)("input",Object(w.a)({name:s,onBlur:t,class:"form-check-input",type:"checkbox",id:c,checked:n,value:i},a))})}function Oe(e){return Object(_.jsx)("label",{class:"d-flex inline",for:e.for,children:e.label})}var pe=["name","onBlur","id","checked","value","index"];function fe(e){var t=e.name,s=e.onBlur,n=e.id,c=e.checked,i=e.value,a=(e.index,Object(q.a)(e,pe));return Object(_.jsx)("span",{children:Object(_.jsx)("input",Object(w.a)({onBlur:s,name:t,class:"form-check-input",id:n,type:"radio",checked:c,value:i},a))})}var ge=function(e){var t=e.show_abc_sequence,s=e.index;return t?["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"][s]:s+1},ve=function(e,t){var s=[];return e.user_selected&&e.user_selected.forEach((function(e){s.push(e.id)})),e&&s&&s.includes(t)};function we(e){return Object(_.jsx)("span",{class:e.class,children:Object(_.jsx)("img",{src:"/correct.png",width:"17px",alt:""})})}function _e(e){return Object(_.jsx)("span",{class:e.class,children:Object(_.jsx)("img",{src:"/wrong.png",width:"17px",alt:""})})}var ye=s(102),ke=s.n(ye);function Ne(e){return Object(_.jsx)("span",{class:e.class,children:e.value})}var qe=["choices","onblur","isReview","id"];function Se(e){var t=e.choices,s=void 0===t?[]:t,n=e.onblur,c=e.isReview,i=e.id,a=Object(q.a)(e,qe);return Object(_.jsx)("div",{className:"d-inline-flex mx-1 mb-1",children:Object(_.jsxs)("select",Object(w.a)(Object(w.a)({className:"form-select",style:{borderColor:"#2f56a1",backgroundImage:"url('/arrow-down.png')"},onBlur:n},a),{},{children:[c?null:Object(_.jsx)("option",{selected:!0,children:"select answer"}),s&&s.map((function(e,t){return Object(_.jsx)("option",{"data-possible-question-id":e.id,selected:i===e.id,children:e.prompt_content.replaceAll(/(<([^>]+)>)/gi,"")},e.number)})),";"]}))})}function Ce(e){var t=e.questions,s=e.onAnswer,c=e.currentPage,i=e.isReview,a=e.answer,r=e.status,o=!1,d=Object(n.useState)(c),j=Object(l.a)(d,2),u=j[0],b=j[1];Object(n.useEffect)((function(){b(c)}),[c]);var h=Object(U.size)(t)>1;return Object(_.jsx)("div",{children:t&&t.map((function(e,t){if(i||null===r||parseInt(u)===parseInt(e.page)){var n=e.prompt_content.replace(/(<|&lt;)br\s*\/*(>|&gt;)/g," ").replace(/\[\[[^\]]*\]\]/g,(function(t){return"FillInBlank"===e.type?'<input type="text" className="form-control-sm" data-id ="'.concat(t.match(/\d+/),'"  class="inline"/>'):'<select data-id ="'.concat(t.match(/\d+/),'"  class="inline"></select>')}));return Object(_.jsx)("div",{className:"mb-3",children:Object(_.jsxs)("div",{className:"icon-wrapper",children:[Object(_.jsx)(ae,{showNumbers:h,counterClass:"me-2",counter:t+1+".",title:ke()(n,{transform:function(t){if("input"===t.name){var n,c,r="";return a.forEach((function(s){s.question_id===e.id&&s.selected_answers.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&(r=e.answer)}))})),i&&(e.user_selected&&e.user_selected.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&(n=e.answer)})),e.possible_answers.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&(c=e.prompt_content)}))),Object(_.jsxs)("div",{class:"inline-grid icon-wrapper",children:[Object(_.jsx)(ie,{fieldLength:e.input_field_length,disabled:i,"data-question-type":e.type,"data-value":t.attribs["data-id"],"data-question-id":e.id,value:i?n:null,defaultValue:r||null,onblur:s,className:c===n?"form-control-sm form-control-custom-sm":"txt-danger-line-through form-control-sm form-control-custom-sm"}),i?c===n?Object(_.jsx)(we,{class:"answer-badge bg-success"}):Object(_.jsx)(_e,{class:"answer-badge bg-danger"}):null,i?c===n?null:Object(_.jsx)(Ne,{class:"badge bg-success mb-1",value:c}):null]})}if("select"===t.name){var l;a.forEach((function(s){s.question_id===e.id&&s.selected_answers.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&(l=e.id)}))}));var o,d,j=[];return i&&e.possible_answers.forEach((function(e){e.number===parseInt(t.attribs["data-id"])&&e.is_correct&&(o=e.prompt_content.replaceAll(/(<([^>]+)>)/gi,""))})),i&&e.user_selected?e.user_selected.forEach((function(s){parseInt(t.attribs["data-id"])===s.number&&e.possible_answers.forEach((function(e){e.number===s.number&&e.id===s.id&&(j.push(e),d=e.is_correct)}))})):!1===i&&e.possible_answers.forEach((function(e){parseInt(t.attribs["data-id"])===e.number&&j.push(e)})),Object(_.jsxs)("div",{class:"inline-grid icon-wrapper",children:[Object(_.jsx)(Se,{id:l,disabled:i,"data-question-type":e.type,"data-value":t.attribs["data-id"],"data-question-id":e.id,placeholder_id:t.attribs["data-id"],choices:j,onblur:s,isReview:i,className:!1===d?"txt-danger-line-through form-select form-select-custom-sm":"form-select form-select-custom-sm"}),i?!0===d?Object(_.jsx)(we,{class:"answer-badge bg-success"}):Object(_.jsx)(_e,{class:"answer-badge bg-danger"}):null,i?!0===d?null:Object(_.jsx)(Ne,{class:"badge bg-success mb-1",value:o}):null]})}}})}),"RadioBox"===e.type||"CheckBox"===e.type?Object(_.jsx)("div",{className:e.question_horizontal_display?"d-inline-flex  align-items-end ":null,children:e.possible_answers.map((function(n,c){return Object(_.jsxs)("div",{className:"RadioBox"===e.type||"CheckBox"===e.type?e.question_horizontal_display?"d-flex mt-2 ms-3 inline-grid":"d-flex mt-2 ms-3":null,children:[Object(_.jsx)("label",{for:n.id,children:n.image&&e.question_horizontal_display?Object(_.jsx)("img",{src:n.image,height:n.image_height,px:!0,alt:"img"}):""}),Object(_.jsxs)("div",{className:"RadioBox"===e.type||"CheckBox"===e.type?"form-check d-flex align-items-center form-check-inline custom-form-check":null,children:[a.forEach((function(t){t.question_id===e.id&&t.selected_answers.forEach((function(e){n.id===e.id&&(o=!0)}))})),Object(_.jsx)("span",{children:ge({index:c,show_abc_sequence:e.show_abc_sequence})+"."}),"CheckBox"===e.type?Object(_.jsx)(xe,{defaultChecked:!0===o?o:null,index:ge({index:c,show_abc_sequence:e.show_abc_sequence})+".","data-question-id":e.id,"data-question-type":e.type,onClick:s,value:n.id,id:n.id,name:"answers[".concat(t,"].selected_answers[").concat(c,"]"),checked:i?ve(e,n.id):null,className:i&&!ve(e,n.id)&&n.is_correct?"form-check-input correct_answers ms-2":"form-check-input ms-2"}):"RadioBox"===e.type?Object(_.jsx)(fe,{defaultChecked:!0===o?o:null,index:ge({index:c,show_abc_sequence:e.show_abc_sequence})+".","data-question-id":e.id,"data-question-type":e.type,onClick:s,value:n.id,id:n.id,name:"answers[".concat(t,"].selected_answers"),checked:i?ve(e,n.id):null,className:i&&!ve(e,n.id)&&n.is_correct?"form-check-input correct_answers ms-2":"form-check-input ms-2"}):null,o=!1,Object(_.jsxs)("div",{class:"RadioBox"===e.type||"CheckBox"===e.type?"icon-wrapper":null,children:["RadioBox"===e.type||"CheckBox"===e.type?Object(_.jsx)(Oe,{for:n.id,label:Object(_.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(n.prompt_content?n.prompt_content:""," ").concat(n.image&&!e.question_horizontal_display?"<img src=".concat(n.image," height=").concat(n.image_height,"px/>"):"")}})}):null,!0===n.is_correct&&!0===i&&("CheckBox"===e.type||"RadioBox"===e.type)&&ve(e,n.id)&&Object(_.jsx)(we,{class:"answer-badge bg-success"}),!1===n.is_correct&&!0===i&&("CheckBox"===e.type||"RadioBox"===e.type)&&ve(e,n.id)&&Object(_.jsx)(_e,{class:"answer-badge bg-danger"}),("CheckBox"===e.type||"RadioBox"===e.type)&&i&&0===Object(U.size)(e.user_selected)&&n.is_correct?Object(_.jsx)(_e,{class:"answer-badge bg-danger"}):null]})]})]})}))}):null]})},t)}return null}))})}Ce.defaultProps={questions:[],currentQuestion:1,isReview:!1};var Ie=Ce,Be=[],Ee=function(e){var t=e.isLoaded,s=e.data,c=e.onSubmit,i=e.isReview;null!=s.completed_at&&(i=!0);var a=Object(n.useState)(!1),r=Object(l.a)(a,2),o=r[0],h=r[1],x=Object(n.useState)(),O=Object(l.a)(x,2),p=O[0],f=O[1],v=Object(n.useState)(""),w=Object(l.a)(v,2),q=w[0],S=w[1],C=function(){return h(!o)},I=Object(n.useState)(!1),B=Object(l.a)(I,2),E=B[0],P=B[1],D=Object(n.useState)(!1),W=Object(l.a)(D,2),J=W[0],G=W[1],X=function(){return G(!J)},Z=function(){return P(!E)},$=Object(n.useState)(!1),ee=Object(l.a)($,2),te=ee[0],se=ee[1],ce=Object(n.useState)(1),ie=Object(l.a)(ce,2),ae=ie[0],re=ie[1],le=Object(n.useState)([]),oe=Object(l.a)(le,2),de=oe[0],me=oe[1],xe=Object(n.useState)(),Oe=Object(l.a)(xe,2),pe=Oe[0],fe=Oe[1];Object(n.useEffect)((function(){s&&s.time_spent&&0===Object(U.size)(Be)&&void 0===i&&s.questions.forEach((function(e){0!==Object(U.size)(e.user_selected)&&Be.push({question_id:e.id,selected_answers:e.user_selected})}))}),[s,i]),Object(n.useEffect)((function(){fe("New"===s.status||null===s.time_spent?"00":m()(s,"time_spent")),me(m()(s,"questions"))}),[s]);var ge=function(e){void 0===i&&!1!==p&&(we(),e.preventDefault(),e.returnValue="")},ve=function(){var e=window.sessionStorage.getItem("timer"),t={is_submit:!0,time_spent:parseInt(e),answers:Be};se(!0),c(t),f(!1),!0===o?C():Z()},we=function(){if(null!==s.status){var e=window.sessionStorage.getItem("timer"),t={is_submit:!1,time_spent:parseInt(e),answers:Be};se(!1),c(t),se(!1),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;j.b.success(e,{position:"top-right",autoClose:t,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastId:1})}("Successfully Saved!")}};Object(n.useEffect)((function(){if(void 0!==i||null!==s.status)return window.addEventListener("beforeunload",ge),function(){window.removeEventListener("beforeunload",ge)}}));var _e=Object(d.a)().handleSubmit;return t?Object(_.jsx)("div",{className:"dashboard-wrapper bg-white m-27",children:Object(_.jsxs)("div",{class:"container quiz-background",children:[Object(_.jsx)("form",{onSubmit:_e((function(){var e,t=[],n=[],c=[];Be.forEach((function(e){var s=[];t.push(e.question_id),e.selected_answers.forEach((function(e){s.push(e.answer)})),c.push({question_id:e.question_id,selectdAnswers:s})})),s.questions.forEach((function(s,i){var a=[];!1===Object(U.includes)(t,s.id)?n.push(i+1):"FillInBlankChoices"!==s.type&&"FillInBlank"!==s.type||(s.prompt_content.replace(/\[\[[^\]]*\]\]/g,(function(e){var t="".concat(e.match(/\d+/));a.push(t)})),e=Object(U.size)(a),c.forEach((function(t){t.question_id===s.id&&parseInt(e)!==Object(U.size)(t.selectdAnswers)&&n.push(i+1)})))})),Object(U.size)(n)>0?(S(Object(U.join)(n,",")),h(!o)):P(!E)})),children:Object(_.jsxs)("div",{className:"p-md-5",children:[Object(_.jsxs)(u.a,{children:[Object(_.jsx)(b.a,{sm:!0,children:Object(_.jsx)(R,{})}),Object(_.jsx)(b.a,{md:!0,className:"mt-3 text-end",children:Object(_.jsx)("span",{className:"p-1 timer-content",children:Object(_.jsx)("b",{children:s&&pe&&Object(_.jsx)(Y,{isStopTimer:!(null!==s.status&&!i)||te,totalTimeInSeconds:s.recom_time,localSpentTime:pe,onStop:function(e){se(!1)}})})})})]}),Object(_.jsx)("div",{className:"p-md-5",children:Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"border border-light p-3 row",xs:"1",sm:"1",md:"4",children:[Object(_.jsx)(b.a,{md:!0,children:Object(_.jsx)("div",{class:"content-align-center",children:Object(_.jsx)(A,{title:s.task_type})})}),Object(_.jsx)(b.a,{md:!0,className:"center",children:Object(_.jsx)(N,{time:s.recom_time})}),Object(_.jsx)(b.a,{md:!0,className:"center",children:Object(_.jsx)(ne,{questions:Object(U.size)(s.questions)})}),Object(_.jsx)(b.a,{md:!0,className:"center",children:Object(_.jsx)("div",{className:"d-flex",children:Object(_.jsx)(k,{level:Object(_.jsx)("div",{dangerouslySetInnerHTML:{__html:s.task_levels}})})})})]}),Object(_.jsx)(u.a,{className:"border border-light p-3",children:Object(_.jsx)(b.a,{children:Object(_.jsxs)("div",{class:"d-flex flex-column",children:[Object(_.jsx)(V,{question:s.prompt_content}),s.audio?Object(_.jsxs)("div",{className:"mb-3",children:[" ",Object(_.jsx)(he,{src:s.audio})," "]}):null,s.html_content&&Object(_.jsx)(Q,{description:Object(_.jsx)("div",{dangerouslySetInnerHTML:{__html:s.html_content}}),showBtn:!0})]})})}),Object(_.jsxs)(u.a,{className:Object(U.size)(s.additional_resource)<=0?"":"p-3 border border-light",children:[Object(U.size)(s.additional_resource)<=0?"":Object(_.jsx)("div",{children:Object(_.jsxs)("span",{class:"mt-3 mb-3",children:[Object(_.jsx)("strong",{children:" Additional question resource "}),Object(_.jsx)(z,{onClick:function(){return G(!J)}})]})}),Object(_.jsx)(K,{isOpen:J,toggle:X,bodyContent:Object(_.jsx)("div",{dangerouslySetInnerHTML:{__html:s.additional_resource}}),footerContent:Object(_.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:X,children:"Close"})})]}),Object(_.jsx)(u.a,{className:"border border-light p-3",children:Object(_.jsx)("div",{className:"d-flex",children:Object(_.jsx)(Ie,{questions:de,currentPage:ae,onAnswer:function(e){var t=parseInt(e.target.getAttribute("data-question-id")),s=e.target.getAttribute("data-question-type"),n="CheckBox"===s?e.target.checked:null,c="RadioBox"===s?e.target.checked:null,i=parseInt(e.target.value);if("CheckBox"===s||"RadioBox"===s)if(0===Be.length)Be.push({question_id:t,selected_answers:[{id:i}]});else{var a=je()(Be,["question_id",t]);if(a){var r=Object(U.remove)(a.selected_answers,(function(e){return e.id===i&&!1===n}));if(0===a.selected_answers.length&&!1===n){var l=Be.indexOf(a);Object(U.remove)(Be,(function(e){return Be.indexOf(e)===l&&!1===n}))}0===r.length&&n&&a.selected_answers.push({id:i}),!0===c&&(a.selected_answers=[],a.selected_answers.push({id:i}))}else Be.push({question_id:t,selected_answers:[{id:i}]})}else if("FillInBlank"===s){if(e.target.value){var o=e.target.value,d=parseInt(e.target.getAttribute("data-value"));if(0===Be.length)Be.push({question_id:t,selected_answers:[{number:d,answer:o}]});else{var j=je()(Be,["question_id",t]);if(j){var u=je()(j.selected_answers,["number",d]);u?u.answer=o:j.selected_answers.push({number:d,answer:o})}else Be.push({question_id:t,selected_answers:[{number:d,answer:o}]})}}}else if("FillInBlankChoices"===s){var b=parseInt(e.target.selectedOptions[0].getAttribute("data-possible-question-id")),h=parseInt(e.target.getAttribute("data-value"));if(0===Be.length)Be.push({question_id:t,selected_answers:[{number:h,id:b}]});else{var m=je()(Be,["question_id",t]);if(m){var x=je()(m.selected_answers,["number",h]);x?x.id=b:m.selected_answers.push({number:h,id:b})}else Be.push({question_id:t,selected_answers:[{number:h,id:b}]})}}console.log("answers",Be)},isReview:i,answer:Be,status:s.status})})}),i||1===s.total_pages?null:"",Object(_.jsx)(u.a,{children:Object(_.jsxs)("div",{class:"mb-3 mt-3 p-0 m-0",children:[i||null===s.status?null:Object(_.jsxs)("div",{class:"inline float-start",children:[Object(_.jsx)(L,{click:we}),Object(_.jsx)(j.a,{})]}),i||null===s.status?Object(_.jsx)("div",{class:"inline float-end",children:Object(_.jsx)(y,{href:g})}):Object(_.jsxs)("div",{class:"inline float-end",children:[Object(_.jsx)("span",{className:"mx-1",children:ae>1&&Object(_.jsx)(ue,{onClick:function(){re(ae-1)}})}),Object(_.jsx)("span",{children:ae===s.total_pages&&Object(_.jsx)(T,{})}),Object(_.jsx)("span",{children:ae!==s.total_pages&&Object(_.jsx)(be,{onClick:function(){re(ae+1)}})})]})]})})]})})]})}),Object(_.jsxs)(H.a,{isOpen:o,size:"lg",toggle:C,className:"modal-dialog-centered ",children:[Object(_.jsxs)(F.a,{children:[Object(_.jsx)("h4",{className:"text-primary",children:Object(_.jsx)("strong",{children:"Warning!"})}),Object(_.jsx)("p",{children:"Some answers are not completed, are you sure to continue?"}),Object(_.jsxs)("p",{className:"text-danger",children:["Question no: ",q," not completed."]})]}),Object(_.jsxs)(M.a,{style:{border:0},children:[Object(_.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:C,children:"Edit"}),Object(_.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:ve,children:"Submit"})]})]}),Object(_.jsxs)(H.a,{isOpen:E,size:"lg",toggle:Z,className:"modal-dialog-centered ",children:[Object(_.jsxs)(F.a,{children:[Object(_.jsx)("h4",{className:"text-primary",children:Object(_.jsx)("strong",{children:"Are you sure!"})}),Object(_.jsx)("p",{children:"After submitting your work, you cannot making any changes."})]}),Object(_.jsx)(M.a,{style:{border:0},children:Object(_.jsx)("button",{type:"submit",class:"btn btn-sm mx-3 modal-button",onClick:ve,children:"Submit"})})]})]})}):Object(_.jsx)("h1",{className:"text-primary text-center",children:"Loading..."})},ze=s(20),Le=s(105),Te=s(104),Re=function e(t){var s=this;Object(ze.a)(this,e),this.makeHeader=function(){return new Headers({Authorization:"Token ".concat(window.location.pathname.split("/")[2]),Accept:"application/json","Content-Type":"application/json"})},this.fetchSecure=function(e){var t=e.url;return fetch(t,{method:"GET",headers:s.makeHeader()})},this.postSecure=function(e){var t=e.url,n=e.data;return fetch(t,{method:"POST",headers:s.makeHeader(),body:JSON.stringify(Object(w.a)({},n))})},this.props=t},Ae=window.location.pathname.split("/")[3],He=function(e){return"".concat(v,"/quiz/").concat(e,"/?id=").concat(Ae)},Fe=new(function(e){Object(Le.a)(s,e);var t=Object(Te.a)(s);function s(e){var n;return Object(ze.a)(this,s),(n=t.call(this,e)).get=function(e){var t=e.id;return n.fetchSecure({url:He(t)})},n.post=function(e){var t=e.id,s=e.data;return n.postSecure({url:He(t),data:s})},n.props=e,n}return s}(Re)),Me=function(e){var t="/:id/:token",s=Object(n.useState)({}),c=Object(l.a)(s,2),i=c[0],a=c[1],r=Object(n.useState)(!1),d=Object(l.a)(r,2),j=d[0],u=d[1],b=function(){return window.location.pathname.split("/")[1]},h=Object(o.f)();!1===p&&(window.addEventListener("keydown",(function(e){!e.ctrlKey||"S"!==e.key&&"s"!==e.key||e.preventDefault(),("F12"===e.key||e.ctrlKey&&"C"===e.key||e.ctrlKey&&("E"===e.key||"e"===e.key)||e.ctrlKey&&("J"===e.key||"j"===e.key)||e.ctrlKey&&("I"===e.key||"i"===e.key)||e.ctrlKey&&("K"===e.key||"k"===e.key)||e.ctrlKey&&("U"===e.key||"u"===e.key))&&e.preventDefault()})),document.addEventListener("contextmenu",(function(e){e.preventDefault()}))),Object(n.useEffect)((function(){Fe.get({id:b()}).then((function(e){return e.json()})).then((function(e){u(!0),a(e)})).catch((function(e){return console.log(e.message)}))}),[]);var m=Object(n.useCallback)((function(e){e.is_submit?Fe.post({id:b(),data:e}).then((function(e){return e.json()})).then((function(e){u(!0),a(e),!1===e.is_show_feedback&&h.push("/stagging")})):Fe.post({id:b(),data:e})}),[h]);return 4===window.location.pathname.split("/").length&&(t="/:id/:token/:id"),Object(_.jsxs)(o.c,{children:[Object(_.jsx)(o.a,{exact:!0,path:t,children:"Writing Task"===i.task_type?Object(_.jsx)(te,{data:i,isLoaded:j,onSubmit:m}):Object(_.jsx)(Ee,{data:i,isLoaded:j,onSubmit:m})}),Object(_.jsx)(o.a,{exact:!0,path:"/quizsubmit",children:Object(_.jsx)(oe,{data:i,isLoaded:j})}),Object(_.jsx)(o.a,{path:"/validations",children:Object(_.jsx)(re,{})}),Object(_.jsx)(o.a,{path:"/quizreview",children:"Writing Task"===i.task_type?Object(_.jsx)(te,{isReview:!0,data:i,isLoaded:j,onSubmit:m}):Object(_.jsx)(Ee,{isReview:!0,data:i,isLoaded:j,onSubmit:m})}),Object(_.jsx)(o.a,{path:"/stagging",render:function(){return window.location=g}}),Object(_.jsx)(o.a,{exact:!0,path:"*",children:"404 - Not fount"})]})},Pe=(s(257),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,266)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;s(e),n(e),c(e),i(e),a(e)}))});a.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(r.a,{children:Object(_.jsx)(Me,{})})}),document.getElementById("root")),Pe()}},[[258,1,2]]]);
//# sourceMappingURL=main.80a9bd9e.chunk.js.map